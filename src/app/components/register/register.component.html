<form class="myform" [formGroup]="registerForm" (ngSubmit)="onSubmit()" #ngForm="ngForm">
    <h2>Sign Up</h2>

    <div class="form-group">
        <p class="text-danger" *ngId="err">Invalid Credentials</p>

        <label>Username: </label>
        <input 
        class="form-control" [class.is-invalid]="name?.invalid && 
        (name?.touched || ngForm.submitted)" type='text' formControlName='name'>
        <div *ngIf="name?.invalid && (name?.touched || ngForm.submitted)">
            <small class="text-danger" *ngIf="name?.errors?.['required']">Username is required</small>
            <small class="text-danger" *ngIf="name?.errors?.['minlength']">Username must be at least 3 characters</small>
            <small class="text-danger" *ngIf="name?.errors?.['maxlength']">Username must be at most 25 characters</small>
        </div>
    </div>


    <div class="form-group">
        <label>Email Id: </label>
        <input [class.is-invalid]="email?.invalid && 
        (email?.touched || ngForm.submitted )" class="form-control" type='text' formControlName='email' >
        <small class="text-danger" *ngIf="err">Email is already in use</small>
        <div *ngIf="email?.invalid && (email?.touched || ngForm.submitted)">
            <small class="text-danger" *ngIf="email?.errors?.['required']">Email is required</small>
            <small class="text-danger" *ngIf="email?.errors?.['email']">Email is invalid</small>
        </div>
    </div>

    <div class="form-group">
        <label>Password: </label>
        <input 
        class="form-control" [class.is-invalid]="password?.invalid && 
        (password?.touched || ngForm.submitted)" type='password' formControlName='password'>
        <div *ngIf="password?.invalid && (password?.touched || ngForm.submitted)">
            <small class="text-danger" *ngIf="password?.errors?.['required']">Password is required</small>
            <small class="text-danger" *ngIf="password?.errors?.['pattern']">Password must contains
                 uppercase, lowercase, digit and special character and at least 8 characters</small>
        </div>
    </div>

    <div class="form-group">
        <label>Confirm Password: </label>
        <input 
        class="form-control" [class.is-invalid]="registerForm.errors?.['misMatch']" type='password' formControlName='confirmPassword'>
        <div *ngIf="confirmPassword?.invalid && (confirmPassword?.touched || ngForm.submitted)">
            <small class="text-danger" *ngIf="confirmPassword?.errors?.['required']">Password is required</small>
            <small class="text-danger" *ngIf="confirmPassword?.errors?.['pattern']">Password must contain at least
                 one number, one uppercase, a lowercase letter and no white space and at least 8 characters</small>
            <small class="text-danger" *ngIf="confirmPassword?.errors?.['confirmedValidator']">
                Password did not match
            </small>     
        </div>
    </div>
    <div class="form-group btn-box mt-4">
        <input class="btn btn-primary" type="submit" value="Register">
        <a routerLink="/signin" class="btn btn-danger">Sign In</a>
    </div>
</form>
